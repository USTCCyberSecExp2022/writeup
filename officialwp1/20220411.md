# 信安实践I 第四次实验报告标准

## 1 TCP

|         项目         |         数据          |
| :------------------: | :-------------------: |
| 发送方IP地址和端口号 | 192.168.`#0`.`#0`:`#` |
| 接收方IP地址和端口号 |   93.184.216.34:80    |

|  项目  |         握手包1          |           握手包2            |         握手包3          |           释放包1            |           释放包2            |         释放包3          |
| :----: | :----------------------: | :--------------------------: | :----------------------: | :--------------------------: | :--------------------------: | :----------------------: |
| Seq号  |            0             |              0               |            1             |             `#1`             |             `#2`             |          `#1+1`          |
| Ack号  |            0             |              1               |            1             |             `#2`             |            `#1+1`            |          `#2+1`          |
| Flags  | SYN <br> `or` <br> 0x002 | SYN+ACK <br> `or` <br> 0x012 | ACK <br> `or` <br> 0x010 | FIN+ACK <br> `or` <br> 0x011 | FIN+ACK <br> `or` <br> 0x011 | ACK <br> `or` <br> 0x010 |
| Window |           `#`            |             `#`              |           `#`            |             `#`              |             `#`              |           `#`            |

## 2 HTTP/HTTPS

|                          指令                           |        协议版本         |         方法类型          |                   状态码                    |            内容类型             |
| :-----------------------------------------------------: | :---------------------: | :-----------------------: | :-----------------------------------------: | :-----------------------------: |
|             curl -v http://www.example.com              |           1.1           |            GET            |            200 <br> `or` <br> OK            |            text/html            |
|             curl -v https://www.example.com             | 2 <br> `or` <br> 已加密 | GET <br> `or` <br> 已加密 | 200 <br> `or` <br> OK <br> `or` <br> 已加密 | text/html <br> `or` <br> 已加密 |
| curl -v -d "user=test" -X POST http://example.com/login |           1.1           |           POST            |        404 <br> `or` <br> NOT FOUND         |            text/html            |


## 3 DNS

|            项目            |         数据          |
| :------------------------: | :-------------------: |
|    本机 IP 地址和端口号    | 192.168.`#0`.`#0`:`#` |
| DNS 服务器 IP 地址和端口号 |   192.168.`#0`.1:53   |
|       传输层协议类型       |          UDP          |
|       目标服务器 URL       |    www.example.com    |
|     目标服务器 IP 地址     |     93.184.216.34     |

|               查询目标                |                           命令                           |          结果          |
| :-----------------------------------: | :------------------------------------------------------: | :--------------------: |
|      www.baidu.com 的 IPv4 地址       |                dig www.baidu.com @8.8.8.8                |     103.235.46.39      |
|      jw.ustc.edu.cn 的 IPv6 地址      |           dig -t aaaa jw.ustc.edu.cn @8.8.8.8            | 2001:da8:d800:642::248 |
|          202.38.75.11 的域名          |               dig -x 202.38.75.11 @8.8.8.8               |  infonet.ustc.edu.cn   |
| mail.ustc.edu.cn 的邮件交换记录（MX） |                 dig MX mail.ustc.edu.cn                  |          `#`           |
|        i.ustc.edu.cn 的 CNAME         |                 dig cname i.ustc.edu.cn                  |  revproxy.ustc.edu.cn  |
|       example.com 的域名服务器        | dig example.com ns <br> `or` <br> dig +trace example.com |          `#`           |


## 思考题

- 解释 HTTP 中的幂等是什么意思 ( 可以联想一下线性代数里的矩阵的意义以及幂等矩阵 ) 

    > 幂等指的是多次操作对数据是否会有影响

- GET 操作是幂等的吗? POST 呢 

    > 显然, GET 是幂等的, 而 POST 不是

- HTTPS 抓到的数据包与之前 HTTP 中抓到的有何不同? 这是什么原因导致的

    > HTTPS抓到的包无法直接看出数据包的具体内容. 因为HTTPS经过了SSL安全加密, 数据是加密传输的

- 解释从输入网址, 到浏览器显示网页, 在应用层依次发生了什么

    >   输入网址
    >   浏览器通过 DNS 查找域名的IP地址
    >   与目标 IP 建立 TCP 连接
    >   浏览器向目标 IP 的 WEB 服务器发起 HTTP 请求
    >   服务器对请求进行处理并返回相应数据
    >   关闭 TCP 连接
    >   浏览器对接收的数据进行本地处理生成网页界面